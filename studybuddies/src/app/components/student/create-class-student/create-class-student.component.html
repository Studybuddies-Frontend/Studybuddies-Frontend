<nav class="navbar navbar-expand-lg navbar-light" style="background-color: #EBA144 ;">
  <div class="container">
    <a class="navbar-brand" href="#">
      <img src="../../../assets/logoSinFondo.png" style="width: 50px;">
      Studybuddies
    </a>
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" >
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse"  id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" routerLink="/employees" routerLinkActive="active">Pagina 1</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/posts" routerLinkActive="active">Pagina 2</a>
      </li>
    </ul>
    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
      <li class="nav-item">
        <a class="nav-link" routerLink="/signin" routerLinkActive="active">Inicia sesión</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/signup" routerLinkActive="active">Regístrate</a>
      </li>
    </ul>
  </div>
  </div>
</nav>

<div class="container-fluid">
  <form class="formRooms" #roomForm="ngForm" (ngSubmit)="roomForm.form.valid && createRoom(roomForm)"><h1 class="titulo" >Creación de sala</h1><br><div class="row">
    <div class="col-sm">
      <input type="hidden" id="id_user" name="id_user" [(ngModel)]="roomService.selectedRoom.id_user">
      <label for="fname">Descripción</label><br>
      <input type="text" id="description" name="description" [(ngModel)]="roomService.selectedRoom.description" #description="ngModel" [ngClass]="{ 'is-invalid': roomForm.submitted && description.invalid }" minlength="4" required><br>
      <div [hidden]="description.valid" class="text-danger">
        <span *ngIf="roomForm.submitted && description.errors?.required">La descripción no puede estar vacía</span>
        <span *ngIf="roomForm.submitted  && description.errors?.minlength">La descripción es demasiado corta</span>
      </div><br>
      <label for="lname">Universidad</label><br>
      <input type="text" id="university" name="university" [(ngModel)]="roomService.selectedRoom.university" #university="ngModel" [ngClass]="{ 'is-invalid': roomForm.submitted && university.invalid }" required><br>
      <div [hidden]="university.valid" class="text-danger">
        <span *ngIf="roomForm.submitted && university.invalid">La universidad no puede estar vacía</span>
      </div><br>
      <label for="lname">Grado</label><br>
      <input type="text" id="grade" name="degree" [(ngModel)]="roomService.selectedRoom.degree" #degree="ngModel" [ngClass]="{ 'is-invalid': roomForm.submitted && degree.invalid }" required><br>
      <div [hidden]="degree.valid" class="text-danger">
        <span *ngIf="roomForm.submitted && degree.invalid">El grado no puede estar vacío</span>
      </div><br>
      <label for="lname">Asignatura</label><br>
      <input type="text" id="subjects" name="subject" [(ngModel)]="roomService.selectedRoom.subject" #subject="ngModel" [ngClass]="{ 'is-invalid': roomForm.submitted && subject.invalid }" required><br>
      <div [hidden]="subject.valid" class="text-danger">
        <span *ngIf="roomForm.submitted && subject.invalid">La asignatura no puede estar vacía</span>
      </div><br>
    </div>  
    <div class="col-sm">
      <label for="lname">Fecha</label><br>
      <input type="date" id="date" name="date" [(ngModel)]="roomService.selectedRoom.date" #date="ngModel" [ngClass]="{ 'is-invalid': roomForm.submitted && date.invalid }" pattern="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])"><br>
      <div [hidden]="date.valid" class="text-danger">
        <span *ngIf="roomForm.submitted && date.invalid">La fecha no puede estar vacía</span>
      </div><br>
      <label for="lname">Hora inicio</label><br>
      <input type="time" id="iTime" name="iTime" [(ngModel)]="roomService.selectedRoom.iTime" #iTime="ngModel" [ngClass]="{ 'is-invalid': roomForm.submitted && iTime.invalid }" required pattern="([01]?[0-9]|2[0-3]):[0-5][0-9]"><br>
      <div [hidden]="iTime.valid" class="text-danger">
        <span *ngIf="roomForm.submitted && iTime.invalid">Marque una hora de inicio</span>
      </div><br>
      <label for="lname">Hora fin</label><br>
      <input type="time" id="fTime" name="fTime" [(ngModel)]="roomService.selectedRoom.fTime" #fTime="ngModel" [ngClass]="{ 'is-invalid': roomForm.submitted && fTime.invalid }" required pattern="([01]?[0-9]|2[0-3]):[0-5][0-9]"><br>
      <div [hidden]="fTime.valid" class="text-danger">
        <span *ngIf="roomForm.submitted && fTime.invalid">Marque una hora de fin</span>
      </div><br>
      <div [hidden]="date.invalid || description.invalid || university.invalid || degree.invalid || subject.invalid || date.invalid || iTime.invalid || fTime.invalid" class="text-danger">
        <span *ngIf="roomForm.submitted">La hora de fin debe ser posterior a la de inicio, y la fecha no puede situarse en el pasado</span>
      </div><br>    
    </div>
    <div><input type="submit" value="CREAR" ng-click="submitted=true"></div>
  </div>
</form>
</div>